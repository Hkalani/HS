models:
  Profile:
    columns:
      first_name: string
      middle_name: string:nullable
      last_name: string
      sex: string:nullable
      dob: date:nullable
      user_id: foreign:users:nullable
    relationships:
      belongsTo: User

  Member:
    columns:
      profile_id: foreign:profiles
      user_id: foreign:users:nullable
      membership_type_id: foreign:membership_types
      insurance_type: string:nullable
      membership_start_date: date:nullable
      membership_end_date: date:nullable
      notes: text:nullable
      street: string
      city: string
      state: string
      zip_code: string
      phone: string
      emr_name: string:nullable
      emr_relationship: string:nullable
      emr_phone: string:nullable
    relationships:
      belongsToMany: AuthorizationForm, YearlyBillingTotal, PatientBilling, ProgressNote, Treatment, Appointment, Ride

  MembershipType:
    columns:
      name: string
    relationships:
      belongsToMany: Member

  Booking:
    columns:
      user_id: foreign:users
      status: enum:pending,scheduled,completed,cancelled
      notes: text:nullable
    relationships:
      belongsTo: User
      belongsToMany: Appointment, Ride

  Appointment:
    columns:
      booking_id: foreign:bookings
      member_id: foreign:members
      staff_id: foreign:users
      appointment_type: enum:pt,ac,mt
      appointment_date_time: datetime
      status: enum:scheduled,completed,cancelled
      duration_minutes: integer:nullable
      location: string:nullable
      notes: text:nullable
    relationships:
      belongsTo: Booking, Member, User

  Ride:
    columns:
      booking_id: foreign:bookings
      member_id: foreign:members
      pickup_location: string
      dropoff_location: string
      pickup_time: datetime
      return_ride: boolean:default(false)
      return_pickup_time: datetime:nullable
      driver_id: foreign:users
      status: enum:pending,in_progress,completed,cancelled
    relationships:
      belongsTo: Booking, Member, User



  AuthorizationForm:
    relationships:
      belongsTo: Member

  YearlyBillingTotal:
    relationships:
      belongsTo: Member

  PatientBilling:
    relationships:
      belongsTo: Member

  Service:
    relationships:
      belongsToMany: ICD9Code

  ICD9Code:
    relationships:
      belongsTo: Service

  ProgressNote:
    relationships:
      belongsTo: Member

  Treatment:
    relationships:
      belongsTo: Member
      belongsToMany: ExersiseChart, ExersiseRecord

  ExersiseChart:
    relationships:
      belongsTo: Treatment

  ExersiseRecord:
    relationships:
      belongsTo: Treatment

  Schedule:
    relationships:
      belongsTo: User
      belongsToMany: StaffTimeBlock

  StaffTimeBlock:
    relationships:
      belongsTo: Schedule
